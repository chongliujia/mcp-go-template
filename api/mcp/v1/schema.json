{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Model Context Protocol (MCP) Schema",
  "description": "JSON Schema for MCP protocol messages and types",
  "definitions": {
    "Message": {
      "type": "object",
      "properties": {
        "jsonrpc": {
          "type": "string",
          "const": "2.0"
        },
        "id": {
          "oneOf": [
            {"type": "string"},
            {"type": "number"},
            {"type": "null"}
          ]
        },
        "method": {
          "type": "string"
        },
        "params": {
          "type": "object"
        },
        "result": {},
        "error": {
          "$ref": "#/definitions/ErrorInfo"
        }
      },
      "required": ["jsonrpc"],
      "additionalProperties": false
    },
    "ErrorInfo": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer"
        },
        "message": {
          "type": "string"
        },
        "data": {}
      },
      "required": ["code", "message"],
      "additionalProperties": false
    },
    "InitializeParams": {
      "type": "object",
      "properties": {
        "protocolVersion": {
          "type": "string",
          "const": "2024-11-05"
        },
        "capabilities": {
          "$ref": "#/definitions/ClientCapabilities"
        },
        "clientInfo": {
          "$ref": "#/definitions/ClientInfo"
        },
        "meta": {
          "type": "object"
        }
      },
      "required": ["protocolVersion", "capabilities", "clientInfo"],
      "additionalProperties": false
    },
    "InitializeResult": {
      "type": "object",
      "properties": {
        "protocolVersion": {
          "type": "string",
          "const": "2024-11-05"
        },
        "capabilities": {
          "$ref": "#/definitions/ServerCapabilities"
        },
        "serverInfo": {
          "$ref": "#/definitions/ServerInfo"
        },
        "instructions": {
          "type": "string"
        }
      },
      "required": ["protocolVersion", "capabilities", "serverInfo"],
      "additionalProperties": false
    },
    "ClientCapabilities": {
      "type": "object",
      "properties": {
        "experimental": {
          "type": "object"
        },
        "sampling": {
          "type": "object"
        }
      },
      "additionalProperties": false
    },
    "ServerCapabilities": {
      "type": "object",
      "properties": {
        "logging": {
          "$ref": "#/definitions/LoggingCapability"
        },
        "prompts": {
          "$ref": "#/definitions/PromptsCapability"
        },
        "resources": {
          "$ref": "#/definitions/ResourcesCapability"
        },
        "tools": {
          "$ref": "#/definitions/ToolsCapability"
        },
        "experimental": {
          "type": "object"
        }
      },
      "additionalProperties": false
    },
    "LoggingCapability": {
      "type": "object",
      "additionalProperties": false
    },
    "PromptsCapability": {
      "type": "object",
      "properties": {
        "listChanged": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "ResourcesCapability": {
      "type": "object",
      "properties": {
        "subscribe": {
          "type": "boolean"
        },
        "listChanged": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "ToolsCapability": {
      "type": "object",
      "properties": {
        "listChanged": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "ClientInfo": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "version": {
          "type": "string"
        }
      },
      "required": ["name", "version"],
      "additionalProperties": false
    },
    "ServerInfo": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "version": {
          "type": "string"
        }
      },
      "required": ["name", "version"],
      "additionalProperties": false
    },
    "Tool": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "inputSchema": {
          "$ref": "#/definitions/ToolSchema"
        }
      },
      "required": ["name", "inputSchema"],
      "additionalProperties": false
    },
    "ToolSchema": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "properties": {
          "type": "object"
        },
        "required": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": ["type"],
      "additionalProperties": true
    },
    "CallToolParams": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "arguments": {
          "type": "object"
        }
      },
      "required": ["name"],
      "additionalProperties": false
    },
    "CallToolResult": {
      "type": "object",
      "properties": {
        "content": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Content"
          }
        },
        "isError": {
          "type": "boolean"
        }
      },
      "required": ["content"],
      "additionalProperties": false
    },
    "Content": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "text": {
          "type": "string"
        },
        "data": {
          "type": "string"
        },
        "mimeType": {
          "type": "string"
        },
        "blob": {}
      },
      "required": ["type"],
      "additionalProperties": false
    },
    "Resource": {
      "type": "object",
      "properties": {
        "uri": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "mimeType": {
          "type": "string"
        }
      },
      "required": ["uri", "name"],
      "additionalProperties": false
    },
    "Prompt": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "arguments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PromptArgument"
          }
        }
      },
      "required": ["name"],
      "additionalProperties": false
    },
    "PromptArgument": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "required": {
          "type": "boolean"
        }
      },
      "required": ["name"],
      "additionalProperties": false
    }
  }
}