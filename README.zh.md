# mcp-go-template

*[English](README.md) | ä¸­æ–‡*

# Golang MCP (Model Context Protocol) æœåŠ¡æ¨¡æ¿

è¿™æ˜¯ä¸€ä¸ªåŸºäº Golang å®ç°çš„ MCP æœåŠ¡æ¨¡æ¿ï¼Œæä¾›äº†å®Œæ•´çš„é¡¹ç›®ç»“æ„å’ŒåŸºç¡€åŠŸèƒ½å®ç°ã€‚

## å…³äºé¡¹ç›®

![run_server.png](images/run_server.png)

![test_runner_quick.png](images/test_runner_quick.png)

![test_runner.png](images/test_runner.png)

## é¡¹ç›®ç»“æ„

```
mcp-go-template/
â”œâ”€â”€ api/                        # API å®šä¹‰å’Œè§„èŒƒ
â”‚   â”œâ”€â”€ mcp/
â”‚   â”‚   â”œâ”€â”€ v1/
â”‚   â”‚   â”‚   â””â”€â”€ schema.json     # MCP åè®® JSON Schema
â”‚   â”‚   â””â”€â”€ openapi.yaml        # OpenAPI è§„èŒƒæ–‡æ¡£
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ cmd/                        # åº”ç”¨ç¨‹åºå…¥å£ç‚¹
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture.md         # æ¶æ„è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ deployment.md           # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ examples.md             # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ internal/                   # ç§æœ‰åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ config.go          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â””â”€â”€ server.go          # ä¸»æœåŠ¡å™¨é€»è¾‘
â”‚   â”œâ”€â”€ tools/                 # MCP å·¥å…·å®ç°
â”‚   â”‚   â”œâ”€â”€ registry.go        # å·¥å…·æ³¨å†Œå™¨
â”‚   â”‚   â””â”€â”€ examples/
â”‚   â”‚       â”œâ”€â”€ calculator.go  # è®¡ç®—å™¨å·¥å…·ç¤ºä¾‹
â”‚   â”‚       â”œâ”€â”€ web_search.go  # Webæœç´¢å·¥å…·
â”‚   â”‚       â”œâ”€â”€ document_analyzer.go # æ–‡æ¡£åˆ†æå·¥å…·
â”‚   â”‚       â””â”€â”€ knowledge_graph.go   # çŸ¥è¯†å›¾è°±å·¥å…·
â”‚   â”œâ”€â”€ resources/             # MCP èµ„æºç®¡ç†
â”‚   â”‚   â”œâ”€â”€ registry.go        # èµ„æºæ³¨å†Œå™¨
â”‚   â”‚   â””â”€â”€ examples/
â”‚   â”‚       â””â”€â”€ memory.go      # å†…å­˜èµ„æºç¤ºä¾‹
â”‚   â””â”€â”€ prompts/               # MCP æç¤ºç®¡ç†
â”‚       â”œâ”€â”€ registry.go        # æç¤ºæ³¨å†Œå™¨
â”‚       â””â”€â”€ examples/
â”‚           â””â”€â”€ templates.go   # æç¤ºæ¨¡æ¿ç¤ºä¾‹
â”œâ”€â”€ pkg/                       # å…¬å…±åº“ä»£ç 
â”‚   â”œâ”€â”€ mcp/
â”‚   â”‚   â”œâ”€â”€ types.go          # MCP åè®®ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ handler.go        # MCP å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ validation.go     # åè®®éªŒè¯
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ logger.go         # æ—¥å¿—å·¥å…·
â”œâ”€â”€ test/                      # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ integration/           # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ testdata/             # æµ‹è¯•æ•°æ®
â”œâ”€â”€ testAgent/                 # LangGraphæ™ºèƒ½ä½“æµ‹è¯•
â”‚   â”œâ”€â”€ langgraph_mcp_agent.py # LangGraph MCPæµ‹è¯•æ™ºèƒ½ä½“
â”‚   â”œâ”€â”€ test_runner.py         # æµ‹è¯•è¿è¡Œå™¨
â”‚   â””â”€â”€ requirements.txt       # Pythonä¾èµ–
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ README.md
â”œâ”€â”€ Dockerfile
â””â”€â”€ docker-compose.yml
```

## ç‰¹æ€§

- ğŸš€ å®Œæ•´çš„ MCP åè®®å®ç°
- ğŸ”§ å¯æ‰©å±•çš„å·¥å…·ç³»ç»Ÿ
- ğŸ“¦ èµ„æºç®¡ç†æ”¯æŒ
- ğŸ¯ æç¤ºæ¨¡æ¿ç³»ç»Ÿ
- ğŸ”’ å®‰å…¨çš„ä¸­é—´ä»¶æ”¯æŒ
- ğŸ“ å®Œæ•´çš„æ–‡æ¡£å’Œç¤ºä¾‹
- ğŸ³ Docker æ”¯æŒ
- âœ… å®Œæ•´çš„æµ‹è¯•è¦†ç›–
- ğŸ¤– LangGraph æ™ºèƒ½ä½“é›†æˆæµ‹è¯•

## å¿«é€Ÿå¼€å§‹

```bash
# å…‹éš†é¡¹ç›®
git clone <your-repo-url>
cd mcp-go-template

# åˆå§‹åŒ– Go æ¨¡å—
go mod init github.com/chongliujia/mcp-go-template

# å®‰è£…ä¾èµ–
go mod tidy

# è¿è¡ŒæœåŠ¡
go run cmd/server/main.go

# æˆ–ä½¿ç”¨ Docker
docker-compose up
```

## å®ç°çŠ¶æ€

- âœ… é¡¹ç›®ç»“æ„è®¾è®¡
- âœ… åŸºç¡€ MCP åè®®å®ç°
- âœ… æœåŠ¡å™¨æ ¸å¿ƒåŠŸèƒ½
- âœ… æ·±åº¦ç ”ç©¶å·¥å…·ç³»ç»Ÿ
- âœ… é…ç½®ç®¡ç†ç³»ç»Ÿ
- âœ… Docker æ”¯æŒ

## æ·±åº¦ç ”ç©¶å·¥å…·é›†

æœ¬é¡¹ç›®ä¸“ä¸ºæ·±åº¦ç ”ç©¶åœºæ™¯è®¾è®¡ï¼Œæä¾›ä»¥ä¸‹é«˜çº§å·¥å…·ï¼š

### ğŸ” Web æœç´¢å·¥å…· (web_search)
- æ”¯æŒå¤šæœç´¢å¼•æ“ (DuckDuckGo, Bing, Google)
- å¯é…ç½®æœç´¢ç»“æœæ•°é‡å’Œå®‰å…¨æœç´¢
- ç»“æ„åŒ–æœç´¢ç»“æœè¾“å‡º

### ğŸ“„ æ–‡æ¡£åˆ†æå·¥å…· (document_analyzer)
- æ”¯æŒæ–‡ä»¶ã€URLã€æ–‡æœ¬ç›´æ¥åˆ†æ
- å…³é”®è¯æå–å’Œé¢‘ç‡åˆ†æ
- æ–‡æ¡£ç»Ÿè®¡ä¿¡æ¯ï¼ˆå­—æ•°ã€å¥æ•°ã€é˜…è¯»æ—¶é—´ç­‰ï¼‰
- è‡ªåŠ¨æ‘˜è¦ç”Ÿæˆ
- å®ä½“è¯†åˆ«

### ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±å·¥å…· (knowledge_graph)
- ä»æ–‡æœ¬æ„å»ºçŸ¥è¯†å›¾è°±
- å®ä½“æå–ï¼ˆäººç‰©ã€ç»„ç»‡ã€åœ°ç‚¹ã€æ¦‚å¿µç­‰ï¼‰
- å…³ç³»æ¨ç†å’Œæƒé‡è®¡ç®—
- å›¾è°±å¯è§†åŒ–å’ŒæŸ¥è¯¢

### ğŸ§® è®¡ç®—å™¨å·¥å…· (calculator)
- åŸºç¡€æ•°å­¦è¿ç®—
- æ”¯æŒæµ®ç‚¹æ•°è¿ç®—

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°å·¥å…·

1. åœ¨ `internal/tools/examples/` ä¸‹åˆ›å»ºæ–°çš„å·¥å…·æ–‡ä»¶
2. åœ¨ `internal/tools/registry.go` ä¸­æ³¨å†Œæ–°å·¥å…·
3. å®ç° MCP å·¥å…·æ¥å£

### æ·»åŠ æ–°èµ„æº

1. åœ¨ `internal/resources/examples/` ä¸‹åˆ›å»ºæ–°çš„èµ„æºæ–‡ä»¶
2. åœ¨ `internal/resources/registry.go` ä¸­æ³¨å†Œæ–°èµ„æº
3. å®ç° MCP èµ„æºæ¥å£

### é…ç½®ç®¡ç†

é¡¹ç›®ä½¿ç”¨ Viper è¿›è¡Œé…ç½®ç®¡ç†ï¼Œæ”¯æŒå¤šç§é…ç½®æ ¼å¼ã€‚é…ç½®æ–‡ä»¶ä½äº `internal/config/config.go`ã€‚

## æµ‹è¯•

### Go å•å…ƒæµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
go test ./...

# è¿è¡Œé›†æˆæµ‹è¯•
go test ./test/integration/...

# æµ‹è¯•è¦†ç›–ç‡
go test -cover ./...
```

### LangGraph æ™ºèƒ½ä½“æµ‹è¯•

ä½¿ç”¨ LangGraph æ„å»ºçš„æ™ºèƒ½ä½“æ¥æµ‹è¯• MCP æœåŠ¡çš„å®Œæ•´åŠŸèƒ½ï¼š

```bash
# è¿›å…¥æµ‹è¯•ç›®å½•
cd testAgent

# å®‰è£… Python ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
pip install -r requirements.txt

# å¿«é€Ÿè¿æ¥æµ‹è¯•
python test_runner.py quick

# å®Œæ•´åŠŸèƒ½æµ‹è¯•
python test_runner.py
```

æ™ºèƒ½ä½“æµ‹è¯•åŠŸèƒ½ï¼š
- ğŸ”Œ WebSocket è¿æ¥å’Œ MCP åè®®æ¡æ‰‹
- ğŸ› ï¸ æ‰€æœ‰å·¥å…·çš„è‡ªåŠ¨å‘ç°å’Œæµ‹è¯•
- ğŸ“Š è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ
- ğŸ¤– åŸºäº LangGraph çš„æ™ºèƒ½å·¥ä½œæµ

## éƒ¨ç½²

è¯¦è§ `docs/deployment.md`

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License